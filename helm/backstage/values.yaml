# Backstage Helm Chart Values
# Configuration is baked into the custom Docker image (app-config.production.yaml)
# Only image settings and secrets are configured here

backstage:
  backstage:
    # Custom Backstage image built from backstage-adp repo
    image:
      registry: ""  # Set via IDP installer, e.g., 791296381042.dkr.ecr.eu-west-1.amazonaws.com
      repository: ""  # Set via IDP installer, e.g., backstage-adp
      tag: ""  # Set via IDP installer, e.g., latest or specific version
      pullSecrets: []  # Set via IDP installer if using private registry

    # Container port must match app-config.production.yaml listen port
    containerPorts:
      backend: 7007

    # Secrets containing environment variables for app-config.production.yaml
    # These secrets provide values for: AUTH_SECRET, GITHUB_TOKEN, GITLAB_TOKEN,
    # AUTH_GITHUB_CLIENT_ID, AUTH_GITHUB_CLIENT_SECRET, APP_BASE_URL, BACKEND_BASE_URL,
    # GITLAB_HOST, GITLAB_API_BASE_URL, ORGANIZATION_NAME
    extraEnvVarsSecrets:
      - backstage-secrets
      - backstage-postgresql